<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CoE Starter Kit Integration</title>
    <style>
        :root {
            --primary: #0078d4;
            --secondary: #2b88d8;
            --success: #107c10;
            --warning: #ff8c00;
            --danger: #d13438;
            --light: #f3f2f1;
            --dark: #252423;
            --gray: #605e5c;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            color: var(--dark);
            background-color: #f9f9f9;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: var(--primary);
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 8px 8px 0 0;
            margin-bottom: 30px;
        }
        
        h1 {
            margin: 0;
            font-size: 28px;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .tab {
            padding: 15px 20px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-weight: 600;
            text-align: center;
            flex: 1;
            border-bottom: 3px solid transparent;
        }
        
        .tab:hover {
            background-color: #f0f0f0;
        }
        
        .tab.active {
            background-color: white;
            border-bottom: 3px solid var(--primary);
            color: var(--primary);
        }
        
        .tab-content {
            display: none;
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .tab-content.active {
            display: block;
        }
        
        .card {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .process-flow {
            display: flex;
            flex-direction: column;
            margin: 20px 0;
        }
        
        .process-step {
            display: flex;
            margin-bottom: 20px;
            position: relative;
        }
        
        .step-number {
            background-color: var(--primary);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .step-content {
            background-color: var(--light);
            border-radius: 8px;
            padding: 15px;
            flex-grow: 1;
        }
        
        .step-content h3 {
            margin-top: 0;
            color: var(--primary);
        }
        
        .step-arrow {
            position: absolute;
            bottom: -15px;
            left: 20px;
            color: var(--primary);
            font-size: 24px;
            z-index: 1;
        }
        
        .highlight {
            background-color: #fff4e5;
            border-left: 4px solid var(--warning);
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .highlight h3 {
            color: var(--warning);
            margin-top: 0;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .data-table th, .data-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .data-table th {
            background-color: var(--light);
            font-weight: 600;
        }
        
        .data-table tr:hover {
            background-color: #f5f5f5;
        }
        
        .icon {
            margin-right: 8px;
            vertical-align: middle;
        }
        
        .badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-right: 5px;
        }
        
        .badge-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .badge-success {
            background-color: var(--success);
            color: white;
        }
        
        .badge-warning {
            background-color: var(--warning);
            color: white;
        }
        
        .flex-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
        }
        
        .flex-item {
            flex: 1;
            min-width: 300px;
        }
        
        .clickable {
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .clickable:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            max-width: 800px;
            width: 80%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: var(--gray);
        }
        
        .flow-diagram {
            width: 100%;
            height: 400px;
            margin: 20px 0;
            position: relative;
        }
        
        .flow-node {
            position: absolute;
            width: 180px;
            padding: 15px;
            border-radius: 8px;
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .flow-node:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }
        
        .flow-node-label {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .flow-node-description {
            font-size: 12px;
            color: var(--gray);
        }
        
        .flow-arrow {
            position: absolute;
            width: 100px;
            height: 2px;
            background-color: var(--primary);
            transform-origin: 0 0;
        }
        
        .flow-arrow::after {
            content: '';
            position: absolute;
            right: 0;
            top: -4px;
            width: 0;
            height: 0;
            border-top: 5px solid transparent;
            border-bottom: 5px solid transparent;
            border-left: 10px solid var(--primary);
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }
        
        .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: #333;
            color: white;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        
        .button {
            display: inline-block;
            padding: 10px 20px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
        }
        
        .button:hover {
            background-color: var(--secondary);
        }
        
        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                border-bottom: 1px solid #e0e0e0;
            }
            
            .tab.active {
                border-bottom: 1px solid #e0e0e0;
                border-left: 3px solid var(--primary);
            }
            
            .flow-diagram {
                height: 600px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>CoE Starter Kit Integration Visualisierung</h1>
        </header>
        
        <div class="tabs">
            <div class="tab active" onclick="changeTab('overview')">Überblick</div>
            <div class="tab" onclick="changeTab('data-model')">Datenmodell</div>
            <div class="tab" onclick="changeTab('process-flow')">Prozessablauf</div>
            <div class="tab" onclick="changeTab('governance')">Governance</div>
            <div class="tab" onclick="changeTab('advanced')">Advanced (LLM)</div>
        </div>
        
        <div id="overview" class="tab-content active">
            <h2>🎯 Ziel der CoE-Einbindung</h2>
            <p>Das <strong>CoE Starter Kit</strong> liefert umfangreiche Metadaten zur Nutzung der Power Platform, die strategisch eingesetzt werden können:</p>
            
            <div class="flex-container">
                <div class="flex-item card clickable" onclick="showDetails('redundant')">
                    <h3>Vermeidung redundanter Anträge</h3>
                    <p>Identifikation ähnlicher oder identischer Anwendungsfälle zur Verhinderung von Duplikaten und effizienterer Ressourcennutzung.</p>
                </div>
                
                <div class="flex-item card clickable" onclick="showDetails('semantic')">
                    <h3>Semantische Prüfung (LLM)</h3>
                    <p>Intelligente Analyse von Anträgen mittels Large Language Models zur Identifikation ähnlicher Use Cases.</p>
                </div>
            </div>
            
            <div class="flex-container">
                <div class="flex-item card clickable" onclick="showDetails('usage')">
                    <h3>Nutzungshistorie</h3>
                    <p>Nachverfolgung und Analyse der Nutzung von Umgebungen, Konnektoren und Flows zur Identifikation von Trends und Optimierungspotenzial.</p>
                </div>
                
                <div class="flex-item card clickable" onclick="showDetails('risk')">
                    <h3>Automatische Risiko- und Freigabeabschätzung</h3>
                    <p>Datenbasierte Bewertung von Risiken und automatisierte Entscheidungsunterstützung im Freigabeprozess.</p>
                </div>
            </div>
            
            <h2>🔌 Technische Grundlage: CoE Starter Kit Komponenten</h2>
            <p>Nach der Installation (manuell oder via CoE Setup Wizard) stehen folgende <strong>Dataverse-Tabellen</strong> zur Verfügung:</p>
            
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Tabelle</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="badge badge-primary">Environment</span></td>
                        <td>Alle Umgebungen mit Owner, Status, Typ, Region, Erstellung, Aktivität</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-primary">App</span></td>
                        <td>Alle Canvas-Apps mit Metadaten</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-primary">Flow</span></td>
                        <td>Alle Cloud Flows mit Status, Trigger, Owner</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-primary">Connector</span></td>
                        <td>Verwendete Konnektoren pro Flow oder App</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-primary">Audit Log</span></td>
                        <td>Nutzungsstatistiken, Launch-Zeitpunkte</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-primary">Maker</span></td>
                        <td>Nutzerprofile mit Erstellungsaktivitäten</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-primary">Custom Connector</span></td>
                        <td>Übersicht über registrierte Custom Connectors</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-primary">DLP Policy</span></td>
                        <td>Richtlinienübersicht (Verknüpfung zu Umgebungen)</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div id="data-model" class="tab-content">
            <h2>🔐 Datenmodell-Vernetzung</h2>
            
            <div class="card">
                <h3>Empfohlene Dataverse-Beziehungen</h3>
                
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>HubApp Tabelle</th>
                            <th>Verknüpft mit CoE Tabelle</th>
                            <th>Relation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Anforderungen</td>
                            <td>App, Flow, Environment</td>
                            <td>„Ähnlich wie"</td>
                        </tr>
                        <tr>
                            <td>Anforderung.UseCaseID</td>
                            <td>App.ID, Flow.ID</td>
                            <td>Fremdschlüssel (Lookup)</td>
                        </tr>
                        <tr>
                            <td>Anforderung.Connector</td>
                            <td>Connector.Name</td>
                            <td>Many-to-Many</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="flow-diagram">
                <!-- Tabellen-Knoten -->
                <div class="flow-node" style="top: 50px; left: 50px;">
                    <div class="flow-node-label">Anforderungen (HubApp)</div>
                    <div class="flow-node-description">Zentrale Tabelle für Anträge</div>
                </div>
                
                <div class="flow-node" style="top: 50px; left: 350px;">
                    <div class="flow-node-label">App (CoE)</div>
                    <div class="flow-node-description">Canvas-App Metadaten</div>
                </div>
                
                <div class="flow-node" style="top: 150px; left: 350px;">
                    <div class="flow-node-label">Flow (CoE)</div>
                    <div class="flow-node-description">Cloud Flow Metadaten</div>
                </div>
                
                <div class="flow-node" style="top: 250px; left: 350px;">
                    <div class="flow-node-label">Environment (CoE)</div>
                    <div class="flow-node-description">Umgebungs-Metadaten</div>
                </div>
                
                <div class="flow-node" style="top: 150px; left: 650px;">
                    <div class="flow-node-label">Connector (CoE)</div>
                    <div class="flow-node-description">Konnektor-Metadaten</div>
                </div>
                
                <!-- Beziehungspfeile -->
                <div class="flow-arrow" style="top: 75px; left: 230px; width: 120px;"></div>
                <div class="flow-arrow" style="top: 125px; left: 230px; width: 120px; transform: rotate(45deg);"></div>
                <div class="flow-arrow" style="top: 175px; left: 230px; width: 120px; transform: rotate(90deg);"></div>
                <div class="flow-arrow" style="top: 175px; left: 530px; width: 120px;"></div>
            </div>
            
            <div class="highlight">
                <h3>Erweiterungsmöglichkeiten</h3>
                <p>Die CoE-Tabellen können mit zusätzlichen Feldern wie "FreigabeStatus", "Risikoklasse" oder "Verwendungsfrequenz" erweitert werden, um die Governance-Funktionen zu verbessern.</p>
            </div>
        </div>
        
        <div id="process-flow" class="tab-content">
            <h2>🧱 Integration in die HubApp-Logik</h2>
            
            <div class="process-flow">
                <div class="process-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>📥 Einreichen einer Anforderung</h3>
                        <p>Bei Einreichung einer neuen Anforderung (z.B. UseCase, Flow, Konnektor) erfolgt ein automatischer Lookup gegen die CoE-Daten:</p>
                        <ul>
                            <li>Suche nach existierenden Flows/Apps mit ähnlichem Zweck</li>
                            <li>Abgleich nach: <code>Name</code>, <code>Beschreibung</code>, <code>Verwendete Konnektoren</code>, <code>Kategorie</code>, <code>Maker</code></li>
                        </ul>
                        <p><strong>Ziel:</strong> Antrag direkt als „bekannt / gleichartig" markieren → automatisierte Prüfung möglich</p>
                    </div>
                    <div class="step-arrow">↓</div>
                </div>
                
                <div class="process-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>📊 Governance-Entscheidung gestützt auf CoE-Daten</h3>
                        <ul>
                            <li>Wenn Konnektor A in einem vergleichbaren, bereits genehmigten Flow vorkommt → Empfehlung: Freigabe erteilen</li>
                            <li>Wenn Flow-Typ oder Umgebung bereits existiert → Risiko als „niedrig" einstufen</li>
                            <li>Prüfung ob der Maker bereits ähnliche Projekte erfolgreich abgeschlossen hat</li>
                        </ul>
                        <p><strong>Use Case:</strong> Semantische Freigabe auf Basis historischer Freigaben</p>
                    </div>
                    <div class="step-arrow">↓</div>
                </div>
                
                <div class="process-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>🔍 Inaktive Umgebungen identifizieren</h3>
                        <p>Verwende CoE-Datenfelder:</p>
                        <ul>
                            <li><code>LastActivityDate</code> in <code>Environment</code></li>
                            <li><code>CreatedByRole</code></li>
                            <li><code>IsManaged</code></li>
                        </ul>
                        <p>Trigger zur Prüfung 1× pro Woche → Umgebungen mit Inaktivität > 30 Tage → Markierung in HubApp</p>
                        <p>📩 Automatisierter Freigabe-Request an Governance Board zur Stilllegung/Löschung</p>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3>Beispiel-Flow</h3>
                <pre style="background-color: #f5f5f5; padding: 15px; border-radius: 8px; overflow-x: auto;">
1. Neue Anforderung in Dataverse
2. Trigger: Power Automate Flow
3. Suche in CoE-Tabelle "App" nach Textmatch (Titel, Beschreibung)
4. Vergleiche Konnektoren + AppType
5. Wenn Ähnlichkeit > 80 % → markiere als „Ähnlich zu UseCase XY" im Antrag</pre>
            </div>
        </div>
        
        <div id="governance" class="tab-content">
            <h2>🛠 Integrationstechnologie</h2>
            
            <div class="flex-container">
                <div class="flex-item card">
                    <h3>Power Automate (Flows)</h3>
                    <p>Trigger, Abgleich, Datenerhebung</p>
                    <ul>
                        <li>Automatische Triggerung bei neuen Anträgen</li>
                        <li>Verbindung zwischen HubApp und CoE-Daten</li>
                        <li>Datenverarbeitung und -anreicherung</li>
                    </ul>
                </div>
                
                <div class="flex-item card">
                    <h3>HubApp (Canvas App)</h3>
                    <p>UI zur Anzeige, Filterung, Genehmigung</p>
                    <ul>
                        <li>Dashboard für Governance-Team</li>
                        <li>Visualisierung von Ähnlichkeiten</li>
                        <li>Benutzerfreundliches UI für Entscheidungen</li>
                    </ul>
                </div>
            </div>
            
            <div class="flex-container">
                <div class="flex-item card">
                    <h3>Dataverse (CoE + HubApp)</h3>
                    <p>Zentrale Datenhaltung</p>
                    <ul>
                        <li>Speicherung aller Metadaten</li>
                        <li>Relationale Verknüpfungen zwischen Entitäten</li>
                        <li>Historisierung von Entscheidungen</li>
                    </ul>
                </div>
                
                <div class="flex-item card">
                    <h3>Azure Functions / Logic Apps</h3>
                    <p>Erweiterte Logik (z.B. bei Löschung)</p>
                    <ul>
                        <li>Komplexe Verarbeitungsketten</li>
                        <li>Integration mit externen Systemen</li>
                        <li>Leistungsfähige Berechnungen</li>
                    </ul>
                </div>
            </div>
            
            <h2>✅ Best Practices zur CoE-Einbindung</h2>
            
            <div class="process-flow">
                <div class="process-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Regelmäßig synchronisieren</h3>
                        <p>CoE-Flows laufen meist nachts → plane Puffer ein.</p>
                    </div>
                </div>
                
                <div class="process-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Indexiere wichtige Felder</h3>
                        <p><code>App.Name</code>, <code>Flow.Name</code>, <code>Connector.Name</code></p>
                    </div>
                </div>
                
                <div class="process-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Governance-Feld ergänzen</h3>
                        <p>In CoE z.B. „FreigabeStatus" ergänzen</p>
                    </div>
                </div>
                
                <div class="process-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>Vermeide Duplikate</h3>
                        <p>Nutze App-Name + Maker + Umgebung zur Identifikation</p>
                    </div>
                </div>
                
                <div class="process-step">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <h3>Pflege Custom Metadata</h3>
                        <p>Erweitere CoE-Tabellen mit zusätzlichen Governance-Flags (z.B. „Risikoklasse", „Verwendungsfrequenz")</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="advanced" class="tab-content">
            <h2>🧠 Advanced: Embedding + LLM zur Ähnlichkeitserkennung</h2>
            
            <div class="card">
                <h3>LLM-Integration für semantische Ähnlichkeit</h3>
                <p>Wenn du eine GPT/LLM-Anbindung nutzt, kannst du folgende erweiterte Features implementieren:</p>
                
                <div class="process-flow">
                    <div class="process-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h3>Export relevanter Felder</h3>
                            <p>Exportiere relevante Felder (<code>Name</code>, <code>Beschreibung</code>, <code>Konnektoren</code>, <code>AppType</code>) aus CoE</p>
                        </div>
                        <div class="step-arrow">↓</div>
                    </div>
                    
                    <div class="process-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h3>Umwandlung in Embeddings</h3>
                            <p>Wandle sie in <strong>Embeddings</strong> um (OpenAI Embedding API)</p>
                        </div>
                        <div class="step-arrow">↓</div>
                    </div>
                    
                    <div class="process-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h3>Speicherung im Vektor-Store</h3>
                            <p>Speichere sie im <strong>Vektor-Store</strong> (z.B. Azure Cognitive Search, Pinecone)</p>
                        </div>
                        <div class="step-arrow">↓</div>
                    </div>
                    
                    <div class="process-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h3>Ähnlichkeitssuche</h3>
                            <p>Bei neuer Anforderung: Ähnlichkeitssuche → Treffer anzeigen</p>
                        </div>
                    </div>
                </div>
                
                <div class="highlight">
                    <h3>Vorteile der LLM-Integration</h3>
                    <p>✅ Ideal zur Vermeidung von Duplikaten und zur automatisierten Empfehlung „bereits freigegeben"</p>
                    <p>✅ Verbesserte Erkennung von konzeptionell ähnlichen Anwendungsfällen, auch wenn die Terminologie abweicht</p>
                    <p>✅ Ermöglicht semantische Kategorisierung und Clustering von Anwendungsfällen</p>
                </div>
            </div>
            
            <div class="card">
                <h3>Architektur mit Azure OpenAI</h3>
                
                <div class="flow-diagram">
                    <!-- Architektur-Knoten -->
                    <div class="flow-node" style="top: 50px; left: 50px;">
                        <div class="flow-node-label">Power Platform CoE</div>
                        <div class="flow-node-description">Datenquelle</div>
                    </div>
                    
                    <div class="flow-node" style="top: 50px; left: 350px;">
                        <div class="flow-node-label">Azure Function</div>
                        <div class="flow-node-description">Datenaufbereitung</div>
                    </div>
                    
                    <div class="flow-node" style="top: 50px; left: 650px;">
                        <div class="flow-node-label">Azure OpenAI</div>
                        <div class="flow-node-description">Embedding-Generierung</div>
                    </div>
                    
                    <div class="flow-node" style="top: 180px; left: 500px;">
                        <div class="flow-node-label">Vector Store</div>
                        <div class="flow-node-description">Pinecone / Azure Cognitive Search</div>
                    </div>
                    
                    <div class="flow-node" style="top: 300px; left: 350px;">
                        <div class="flow-node-label">Power Automate</div>
                        <div class="flow-node-description">Ähnlichkeitssuche bei neuen Anträgen</div>
                    </div>
                    
                    <div class="flow-node" style="top: 300px; left: 50px;">
                        <div class="flow-node-label">HubApp</div>
                        <div class="flow-node-description">Visualisierung & Entscheidung</div>
                    </div>
                    
                    <!-- Beziehungspfeile -->
                    <div class="flow-arrow" style="top: 75px; left: 230px; width: 120px;"></div>
                    <div class="flow-arrow" style="top: 75px; left: 530px; width: 120px;"></div>
                    <div class="flow-arrow" style="top: 125px; left: 380px; width: 120px; transform: rotate(45deg);"></div>
                    <div class="flow-arrow" style="top: 180px; left: 600px; width: 120px; transform: rotate(90deg);"></div>
                    <div class="flow-arrow" style="top: 240px; left: 500px; width: 120px; transform: rotate(135deg);"></div>
                    <div class="flow-arrow" style="top: 325px; left: 230px; width: 120px;"></div>
                </div>
                
                <div class="highlight">
                    <h3>Implementierungsbeispiel</h3>
                    <pre style="background-color: #f5f5f5; padding: 15px; border-radius: 8px; overflow-x: auto;">
# Python-Code für Azure Function (Pseudocode)
from azure.ai.openai import OpenAI

# 1. CoE-Daten abrufen
def get_coe_data():
    # Verbindung zu Dataverse herstellen
    # Relevante Felder aus App, Flow, etc. abrufen
    return data

# 2. Embeddings generieren
def generate_embeddings(data):
    client = OpenAI()
    embeddings = []
    
    for item in data:
        # Textfelder kombinieren
        text = f"{item['Name']} {item['Description']} {item['Connectors']}"
        # Embedding generieren
        embedding = client.embeddings.create(input=text, model="text-embedding-ada-002")
        embeddings.append({
            "id": item["Id"],
            "embedding": embedding.data[0].embedding,
            "metadata": item
        })
    
    return embeddings

# 3. In Vector Store speichern
def store_embeddings(embeddings):
    # Verbindung zu Vector Store (z.B. Pinecone) herstellen
    # Embeddings speichern
    pass

# 4. Ähnlichkeitssuche
def find_similar(query_text):
    # Embedding für Query generieren
    client = OpenAI()
    query_embedding = client.embeddings.create(input=query_text, model="text-embedding-ada-002")
    
    # Ähnlichkeitssuche im Vector Store
    # Top 5 ähnliche Einträge zurückgeben
    return similar_items</pre>
                </div>
            </div>
        </div>
        
        <!-- Modals für Detailansichten -->
        <div id="redundantModal" class="modal">
            <div class="modal-content">
                <span class="close-modal" onclick="closeModal('redundantModal')">&times;</span>
                <h2>Vermeidung redundanter Anträge</h2>
                
                <p>Durch die Analyse der CoE-Metadaten können Duplikate und ähnliche Anwendungsfälle identifiziert werden, bevor neue Ressourcen dafür bereitgestellt werden.</p>
                
                <h3>Prozess</h3>
                <ol>
                    <li>Bei Einreichung eines neuen Antrags erfolgt ein automatischer Abgleich mit existierenden Apps und Flows</li>
                    <li>Textvergleich der Beschreibungen und Metadaten (Name, Zweck, verwendete Konnektoren)</li>
                    <li>Identifikation ähnlicher Use Cases mit Ähnlichkeitsscore (z.B. > 80%)</li>
                    <li>Automatische Markierung des Antrags mit Verweis auf existierende Lösungen</li>
                </ol>
                
                <h3>Nutzen</h3>
                <ul>
                    <li>Reduzierung von Duplikaten und technischer Schuld</li>
                    <li>Effizientere Ressourcennutzung</li>
                    <li>Beschleunigung von Freigabeprozessen für bekannte Anwendungsfälle</li>
                    <li>Förderung der Wiederverwendung bestehender Lösungen</li>
                </ul>
                
                <div class="highlight">
                    <h3>Integration mit HubApp</h3>
                    <p>In der HubApp wird dem Antragsteller eine Liste ähnlicher, bereits existierender Lösungen angezeigt, mit der Option, den Antrag zurückzuziehen oder einen direkten Zugriff auf die bestehende Lösung zu beantragen.</p>
                </div>
            </div>
        </div>
        
        <div id="semanticModal" class="modal">
            <div class="modal-content">
                <span class="close-modal" onclick="closeModal('semanticModal')">&times;</span>
                <h2>Semantische Prüfung (LLM)</h2>
                
                <p>Durch den Einsatz von Large Language Models können konzeptionell ähnliche Anwendungsfälle erkannt werden, auch wenn unterschiedliche Terminologien verwendet werden.</p>
                
                <h3>Technologie</h3>
                <ul>
                    <li>Azure OpenAI API für Textanalyse und Embedding-Generierung</li>
                    <li>Vector Store (z.B. Pinecone, Azure Cognitive Search) für Ähnlichkeitssuche</li>
                    <li>Cosine-Similarity-Berechnung zur Bestimmung konzeptioneller Ähnlichkeit</li>
                </ul>
                
                <h3>Implementierung</h3>
                <ol>
                    <li>Textdaten aus CoE in Embeddings umwandeln (numerische Vektoren)</li>
                    <li>Speicherung der Embeddings im Vector Store mit Metadaten</li>
                    <li>Bei neuen Anträgen: Embedding generieren und ähnliche Vektoren suchen</li>
                    <li>Ranking der Ergebnisse nach Ähnlichkeitsscore</li>
                </ol>
                
                <div class="highlight">
                    <h3>Vorteile gegenüber einfachem Textvergleich</h3>
                    <p>LLMs verstehen Kontext und Semantik, nicht nur Wortübereinstimmungen. So kann ein Antrag für einen "Urlaubsantragsworkflow" als ähnlich zu einem existierenden "Abwesenheitsmanagement-Prozess" erkannt werden, auch wenn die Wortübereinstimmung gering ist.</p>
                </div>
            </div>
        </div>
        
        <div id="usageModal" class="modal">
            <div class="modal-content">
                <span class="close-modal" onclick="closeModal('usageModal')">&times;</span>
                <h2>Nutzungshistorie von Umgebungen/Konnektoren/Flows</h2>
                
                <p>Die CoE-Daten ermöglichen eine detaillierte Analyse der tatsächlichen Nutzung von Power Platform-Ressourcen über Zeit.</p>
                
                <h3>Relevante CoE-Tabellen</h3>
                <ul>
                    <li><strong>Audit Log:</strong> Detaillierte Nutzungsdaten mit Zeitstempeln</li>
                    <li><strong>Environment:</strong> LastActivityDate, Aktivitätsstatus</li>
                    <li><strong>Flow:</strong> Ausführungsstatistiken, Erfolgsrate</li>
                    <li><strong>Connector:</strong> Verwendungshäufigkeit nach Anwendung</li>
                </ul>
                
                <h3>Anwendungsfälle</h3>
                <ol>
                    <li><strong>Identifikation inaktiver Ressourcen:</strong> Umgebungen, Flows oder Apps, die über längere Zeit nicht genutzt werden</li>
                    <li><strong>Nutzungstrends:</strong> Analyse welche Konnektoren und Flow-Typen am häufigsten genutzt werden</li>
                    <li><strong>Auslastungsanalyse:</strong> Identifikation von Spitzenzeiten und Lastverteilung</li>
                    <li><strong>ROI-Bewertung:</strong> Vergleich von Ressourcenaufwand und tatsächlicher Nutzung</li>
                </ol>
                
                <div class="highlight">
                    <h3>Automatisiertes Lifecycle Management</h3>
                    <p>Die Nutzungsdaten können genutzt werden, um den gesamten Lebenszyklus von Power Platform-Ressourcen zu automatisieren - von der Bereitstellung über Optimierung bis hin zur kontrollierten Stilllegung.</p>
                </div>
            </div>
        </div>
        
        <div id="riskModal" class="modal">
            <div class="modal-content">
                <span class="close-modal" onclick="closeModal('riskModal')">&times;</span>
                <h2>Automatische Risiko- und Freigabeabschätzung</h2>
                
                <p>Durch Analyse historischer Daten können Risiken automatisch eingeschätzt und Freigabeprozesse entsprechend optimiert werden.</p>
                
                <h3>Risikofaktoren aus CoE-Daten</h3>
                <ul>
                    <li><strong>Konnektorstufe:</strong> Standard, Premium, Benutzerdefiniert</li>
                    <li><strong>Datenquellen:</strong> Intern, extern, Komplexität</li>
                    <li><strong>Maker-Erfahrung:</strong> Bisherige Entwicklungshistorie</li>
                    <li><strong>Flow-Komplexität:</strong> Anzahl der Schritte, verwendete Aktionen</li>
                    <li><strong>Umgebungstyp:</strong> Produktion, Entwicklung, Sandbox</li>
                </ul>
                
                <h3>Automatisierte Entscheidungslogik</h3>
                <ol>
                    <li>Berechnung eines Risikoscores basierend auf CoE-Metadaten</li>
                    <li>Vergleich mit historischen Freigabeentscheidungen</li>
                    <li>Kategorisierung in Risikostufen: Niedrig, Mittel, Hoch</li>
                    <li>Anpassung des Freigabeprozesses je nach Risikostufe:
                        <ul>
                            <li>Niedrig: Automatische Freigabe möglich</li>
                            <li>Mittel: Vereinfachte Prüfung</li>
                            <li>Hoch: Vollständige Prüfung erforderlich</li>
                        </ul>
                    </li>
                </ol>
                
                <div class="highlight">
                    <h3>Kontinuierliche Verbesserung</h3>
                    <p>Das System kann aus Freigabeentscheidungen lernen und die Risikoeinschätzung kontinuierlich verfeinern, um die Genauigkeit zu verbessern.</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Tab-Wechsel-Funktion
        function changeTab(tabId) {
            // Alle Tab-Inhalte ausblenden
            var tabContents = document.getElementsByClassName('tab-content');
            for (var i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove('active');
            }
            
            // Alle Tabs deaktivieren
            var tabs = document.getElementsByClassName('tab');
            for (var i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove('active');
            }
            
            // Gewählten Tab-Inhalt anzeigen
            document.getElementById(tabId).classList.add('active');
            
            // Gewählten Tab aktivieren
            var clickedTab = event.currentTarget;
            clickedTab.classList.add('active');
        }
        
        // Modal-Funktionen
        function showDetails(modalId) {
            document.getElementById(modalId + 'Modal').style.display = 'flex';
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // Schließt Modal beim Klick außerhalb
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }
    </script>
</body>
</html>